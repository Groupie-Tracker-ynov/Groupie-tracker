<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groupie-Tracker</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="../img/logo.jpg">
</head>

<body>

    <div class="container-header">

        <div id="burger-menu" class="burger-menu">
            <span></span>
          </div>
          
          <div id="menu" class="filter">
              <ul>
                <li><h2 class="home"><a href="http://localhost:8080/groupietracker">Groupie-Tracker</a></h2></li>

                <li><form action="/groupietracker/asc">
                    <input class="input-filter" type="submit" value="aA-zZ" name="a-z">
                </form></li>
                
                <li><form action="/groupietracker/desc">
                    <input class="input-filter" type="submit" value="zZ-aA" name="z-a">
                </form></li>

                <li><form action="/groupietracker/rec">
                    <input class="input-filter" type="submit" value="Concert le plus recent" name="recent">
                </form></li>

                <li><form action="/groupietracker/anc">
                    <input class="input-filter" type="submit" value="Concert le plus ancient" name="age">
                </form></li>
              </ul>
          </div>


        <div class="search">
            <form action="" class="formSearch">
                <input class="-search" type="search" placeholder="Rechercher votre artiste" name="search">
            </form>
        </div>
    </div>

    <div class="container-main"></div>

    <footer>
        <h1 class="titleFooter"><a href="http://localhost:8080/groupietracker">Groupie-Tracker</a></h1>
    </footer>

    <script>
        const form = document.querySelector(".formSearch");
        const input = document.querySelector(".-search");
        const container = document.querySelector(".container-main");
        
        function displayContainer() {
            return container.innerHTML = `
                                {{range .artistes}}
                                <a href="/groupietracker/artiste/{{.ID}}">
                                    <div class="card">
                                        <div class="back-img" style="background: no-repeat url('{{ .Image}}') center;"></div>
                                        <div class="contenue">
                                            <img src="{{ .Image}}" alt="nom de l'artiste" class="img">
                                            <h1 class="h1">{{.Nom}}</h1>
                                            <h4 class="h4">Début de sa carrière : {{.Debutcarriere}}</h4>
                                            <h4 class="h4">Date de son premier album : {{.Datepremieralbum}}</h4>
                                            <h4 class="h4">{{.Membres}}</h4>
                                            <h4 class="h4">Localisation de leur prochain/dernier concert: {{.Lieu}}</h4>
                                            <h4 class="h4">Date de leur prochain/dernier concert: {{.Date}}</h4>
                                        </div>
                                    </div>
                                </a>
                                {{end}}
                            `;
        };

        displayContainer()
        input.addEventListener("input", (e) => {
            fetchMeals(e.target.value);
        });

        form.addEventListener("submit", (e) => {
            e.preventDefault();
            displayContainer();
        });
        
        var burgerMenu = document.getElementById("burger-menu");
        var overlay = document.getElementById("menu");
        burgerMenu.addEventListener("click", function () {
          this.classList.toggle("close");
          overlay.classList.toggle("overlay");
        });
        </script>
    
</body>

</html>